<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>edward's photography</title>
    <link rel="stylesheet" href="src/styles.css" />
  </head>
  <body>
    <header>
      <nav>
        <a href="/" class="logo">edward</a>
        <div class="nav-center">
          <!-- <a href="src/pages/about.html">about</a> -->
          <a href="/">gallery</a>
          <a href="src/pages/journal.html">journal</a>
          <!-- <a href="src/pages/gear.html">gear</a> -->
        </div>
        <a href="https://instagram.com/edwli.photos" class="instagram"
          >instagram</a
        >
      </nav>
    </header>

    <main>
      <div class="masonry-grid">
        <div class="masonry-column">
          <div class="image-item">
            <img src="static/lassen/lassen-1.jpg" alt="Lassen" />
            <div class="image-title">Lassen</div>
          </div>
          <div class="image-item">
            <img src="static/monterey/monterey-1.jpg" alt="Monterey" />
            <div class="image-title">Monterey</div>
          </div>
          <div class="image-item">
            <img src="static/north-cascades/north-cascades-3.jpg" alt="North Cascades" />
            <div class="image-title">North Cascades</div>
          </div>
          <div class="image-item">
            <img src="static/olympic/olympic-2.jpg" alt="Olympic" />
            <div class="image-title">Olympic</div>
          </div>
          <div class="image-item">
            <img src="static/yosemite/yosemite-1.jpg" alt="Yosemite" />
            <div class="image-title">Yosemite</div>
          </div>
          <!-- More images in first column -->
        </div>
        <div class="masonry-column">
          <div class="image-item">
            <img src="static/lassen/lassen-2.jpg" alt="Lassen" />
            <div class="image-title">Lassen</div>
          </div>
          <div class="image-item">
            <img src="static/north-cascades/north-cascades-1.jpg" alt="North Cascades" />
            <div class="image-title">North Cascades</div>
          </div>
          <div class="image-item">
            <img src="static/north-cascades/north-cascades-4.jpg" alt="North Cascades" />
            <div class="image-title">North Cascades</div>
          </div>
          <div class="image-item">
            <img src="static/olympic/olympic-3.jpg" alt="Olympic" />
            <div class="image-title">Olympic</div>
          </div>
          <div class="image-item">
            <img src="static/yosemite/yosemite-2.jpg" alt="Yosemite" />
            <div class="image-title">Yosemite</div>
          </div>
          <!-- More images in second column -->
        </div>
        <div class="masonry-column">
          <div class="image-item">
            <img src="static/lassen/lassen-3.jpg" alt="Lassen" />
            <div class="image-title">Lassen</div>
          </div>
          <div class="image-item">
            <img src="static/north-cascades/north-cascades-2.jpg" alt="North Cascades" />
            <div class="image-title">North Cascades</div>
          </div>
          <div class="image-item">
            <img src="static/olympic/olympic-1.jpg" alt="Olympic" />
            <div class="image-title">Olympic</div>
          </div>
          <div class="image-item">
            <img src="static/olympic/olympic-4.jpg" alt="Olympic" />
            <div class="image-title">Olympic</div>
          </div>
          <div class="image-item">
            <img src="static/yosemite/yosemite-3.jpg" alt="Yosemite" />
            <div class="image-title">Yosemite</div>
          </div>
          <!-- More images in first column -->
        </div>
      </div>
    </main>

    <script>
      function preloadImages() {
          return new Promise((resolve) => {
              const images = document.querySelectorAll('.image-item img');
              let loadedCount = 0;
              
              images.forEach(img => {
                  if (img.complete) {
                      loadedCount++;
                      if (loadedCount === images.length) resolve();
                  } else {
                      img.addEventListener('load', () => {
                          loadedCount++;
                          if (loadedCount === images.length) resolve();
                      });
                  }
              });
          });
      }

      const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1,
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("fade-in");
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      document.addEventListener("DOMContentLoaded", () => {
        const imageItems = document.querySelectorAll(".image-item");
        imageItems.forEach((item) => observer.observe(item));
      });
    </script>
  </body>
  <footer>
    <p>&copy; 2024 Edward Li. All rights reserved.</p>
  </footer>
</html>
